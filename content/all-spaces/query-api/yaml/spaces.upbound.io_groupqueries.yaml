---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.14.0
  name: groupqueries.spaces.upbound.io
spec:
  group: spaces.upbound.io
  names:
    kind: GroupQuery
    listKind: GroupQueryList
    plural: groupqueries
    singular: groupquery
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: GroupQuery represents a query against a group of controlplanes.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          response:
            description: A QueryResponse is returned by the query server as response
              to a Query.
            properties:
              count:
                description: count is the total number of objects that match the query.
                type: integer
              cursor:
                description: cursor is cursor to the next page of results.
                properties:
                  next:
                    description: cursor is the cursor to the next page of results.
                      If empty, there are no more,
                    type: string
                  page:
                    description: page is the page number of the cursor.
                    type: integer
                  pageSize:
                    description: pageSize is the number of objects per page, i.e.
                      the limit of the query.
                    type: integer
                  position:
                    description: |-
                      position is the position of the first object in the list of matching objects
                      at the time the first cursor was created. Due to creation and deletion of
                      objects before the cursor this value might be outdated.
                    type: integer
                required:
                - next
                - page
                - pageSize
                - position
                type: object
              incomplete:
                description: |-
                  incomplete is true if the query was (potentially) limited before all
                  matching objects. If a non-empty spec.page.cursor has been used, or
                  objects have been skipped through non-zero spec.page.first, this value
                  is always true.
                type: boolean
              objects:
                description: objects is the list of objects returned by the query.
                items:
                  description: QueryResponseObject is one object returned by the query.
                  properties:
                    $errors:
                      description: errors is the list of errors that occurred while
                        processing the object.
                      items:
                        type: string
                      type: array
                    controlPlane:
                      description: controlPlane is the name and namespace of the object.
                      properties:
                        name:
                          description: name is the name of the controlplane of the
                            object.
                          type: string
                        namespace:
                          description: namespace is the namespace of the controlplane
                            of the object.
                          type: string
                      type: object
                    id:
                      description: |-
                        id indentifies the object. The id is opaque, i.e. the format is
                        undefined. It's only valid for comparison within the response and as part
                        of the spec.ids field in immediately following queries. The format of the
                        id might change between releases.
                      type: string
                    mutablePath:
                      description: |-
                        mutablePath is the mutable path of the object, i.e. the path to the
                        object in the controlplane Kubernetes API.
                      properties:
                        basePath:
                          description: |-
                            basePath is the base URL of the controlplane, i.e. the Kubernetes API
                            endpoint.
                          type: string
                        group:
                          type: string
                        resource:
                          type: string
                        version:
                          type: string
                      required:
                      - group
                      - resource
                      - version
                      type: object
                    object:
                      description: object is the sparse representation of the object.
                      type: object
                    relations:
                      additionalProperties:
                        description: QueryResponseRelation is the list of objects
                          related to the object.
                        type: object
                      description: relations is the list of objects related to the
                        object.
                      type: object
                  type: object
                type: array
              warnings:
                description: |-
                  warnings is a list of warnings that occurred while processing the query.
                  The query is still executed, but these warnings indicate problems. It
                  is recommended to print these to the user.
                items:
                  type: string
                type: array
            type: object
          spec:
            description: A QuerySpec specifies what to query.
            properties:
              count:
                description: |-
                  count specifies whether to return the number of objects. Note that
                  computing the count is expensive and should only be done if necessary.
                  Count is the remaining objects that match the query after paging.
                type: boolean
              cursor:
                description: |-
                  Cursor specifies the cursor of the first object to return. This value is
                  opaque and is only valid when passed into spec.page.cursor in a subsequent
                  query. The format of the cursor might change between releases.
                type: boolean
              filter:
                description: filter specifies how to filter the returned objects.
                properties:
                  categories:
                    description: |-
                      categories is a list of categories to query. If empty, all categories are
                      queried in the given scope.
                      Examples: all, managed, composite, claim
                    items:
                      type: string
                    type: array
                  conditions:
                    description: |-
                      conditions is a list of conditions to query. If empty, all conditions are
                      queried in the given scope.
                    items:
                      description: A QueryCondition specifies how to query a condition.
                      properties:
                        status:
                          description: |-
                            status is the status of condition to query. This is either True, False
                            or Unknown.
                          type: string
                        type:
                          description: |-
                            type is the type of condition to query.
                            Examples: Ready, Synced
                          type: string
                      required:
                      - status
                      - type
                      type: object
                    type: array
                  controlPlane:
                    description: |-
                      controlPlane specifies which controlplanes to query. If empty, all
                      controlplanes are queried in the given scope.
                    properties:
                      name:
                        description: |-
                          name is the name of the controlplane to query. If empty, all controlplanes
                          are queried in the given scope.
                        type: string
                      namespace:
                        description: |-
                          namespace is the namespace of the controlplane to query. If empty, all
                          namespaces are queried in the given scope.
                        type: string
                    type: object
                  group:
                    description: |-
                      group is the API group to query. If empty, all groups are queried in the
                      given scope.
                    type: string
                  ids:
                    description: "\t# ids: [\"id1\",\"id2\"] # to get objects explicitly
                      by id."
                    items:
                      type: string
                    type: array
                  kind:
                    description: |-
                      kind is the API kind to query. If empty, all kinds are queried in the
                      given scope. The kind is case-insensitive. The kind also matches plural
                      resources.
                    type: string
                  name:
                    description: |-
                      name is the name of the object to query. If empty, all objects are queried
                      in the given scope.
                    type: string
                  namespace:
                    description: |-
                      namespace is the namespace WITHIN a controlplane to query. If empty,
                      all namespaces are queried in the given scope.
                    type: string
                  owners:
                    description: |-
                      owners is a list of owners to query. An object matches if it has at least
                      one owner in the list.
                    items:
                      description: A QueryOwner specifies how to query by owner.
                      properties:
                        group:
                          description: name is the name of the owner to match.
                          type: string
                        kind:
                          description: kind is the kind of the owner to match.
                          type: string
                        uid:
                          description: uid is the uid of the owner to match.
                          type: string
                      type: object
                    type: array
                  sql:
                    description: |-
                      sql is a SQL query to query. If empty, all objects are queried in the
                      given scope.


                      The current object can be referenced by the alias "o".


                      WARNING: The where clause is highly dependent on the database
                      schema and might change at any time. The schema is not documented.
                    type: string
                type: object
              limit:
                description: |-
                  limit is the maximal number of objects to return. Defaulted to 100.


                  Note that a limit in a relation subsumes all the children of all parents,
                  i.e. a small limit only makes sense if there is only a single parent,
                  e.g. selected via spec.IDs.
                type: integer
              objects:
                description: objects specifies how to return the objects.
                properties:
                  controlPlane:
                    description: |-
                      controlPlane specifies that the controlplane name and namespace of the
                      object should be returned.
                    type: boolean
                  id:
                    description: |-
                      id specifies whether to return the id of the object. The id is opaque,
                      i.e. the format is undefined. It's only valid for comparison within the
                      response and as part of the spec.ids field in immediately following queries.
                      The format of the id might change between releases.
                    type: boolean
                  mutablePath:
                    description: |-
                      mutablePath specifies whether to return the mutable path of the object,
                      i.e. the path to the object in the controlplane Kubernetes API.
                    type: boolean
                  object:
                    description: |-
                      object specifies how to return the object, i.e. a sparse skeleton of
                      fields. A value of true means that all descendants of that field should
                      be returned. Other primitive values are not allowed. If the type of
                      a field does not match the schema (e.g. an array instead of an object),
                      the field is ignored.
                    x-kubernetes-preserve-unknown-fields: true
                  relations:
                    additionalProperties:
                      description: A QueryRelation specifies how to return objects
                        in a relation.
                      properties:
                        filter:
                          description: filter specifies how to filter the returned
                            objects.
                          properties:
                            categories:
                              description: |-
                                categories is a list of categories to query. If empty, all categories are
                                queried in the given scope.
                                Examples: all, managed, composite, claim
                              items:
                                type: string
                              type: array
                            conditions:
                              description: |-
                                conditions is a list of conditions to query. If empty, all conditions are
                                queried in the given scope.
                              items:
                                description: A QueryCondition specifies how to query
                                  a condition.
                                properties:
                                  status:
                                    description: |-
                                      status is the status of condition to query. This is either True, False
                                      or Unknown.
                                    type: string
                                  type:
                                    description: |-
                                      type is the type of condition to query.
                                      Examples: Ready, Synced
                                    type: string
                                required:
                                - status
                                - type
                                type: object
                              type: array
                            group:
                              description: |-
                                group is the API group to query. If empty, all groups are queried in the
                                given scope.
                              type: string
                            kind:
                              description: |-
                                kind is the API kind to query. If empty, all kinds are queried in the
                                given scope. The kind is case-insensitive. The kind also matches plural
                                resources.
                              type: string
                            name:
                              description: |-
                                name is the name of the object to query. If empty, all objects are queried
                                in the given scope.
                              type: string
                            namespace:
                              description: |-
                                namespace is the namespace WITHIN a controlplane to query. If empty,
                                all namespaces are queried in the given scope.
                              type: string
                            owners:
                              description: |-
                                owners is a list of owners to query. An object matches if it has at least
                                one owner in the list.
                              items:
                                description: A QueryOwner specifies how to query by
                                  owner.
                                properties:
                                  group:
                                    description: name is the name of the owner to
                                      match.
                                    type: string
                                  kind:
                                    description: kind is the kind of the owner to
                                      match.
                                    type: string
                                  uid:
                                    description: uid is the uid of the owner to match.
                                    type: string
                                type: object
                              type: array
                            sql:
                              description: |-
                                sql is a SQL query to query. If empty, all objects are queried in the
                                given scope.


                                The current object can be referenced by the alias "o".


                                WARNING: The where clause is highly dependent on the database
                                schema and might change at any time. The schema is not documented.
                              type: string
                          type: object
                      type: object
                    description: |-
                      relations specifies which relations to query and what to return.
                      Relation names are predefined strings relative to the release of
                      Spaces.


                      Examples: owners, descendants, resources, events, or their transitive
                      equivalents owners+, descendants+, resources+.
                    type: object
                type: object
              order:
                description: |-
                  order specifies how to order the returned objects. The first element
                  specifies the primary order, the second element specifies the secondary,
                  etc.
                items:
                  description: A QueryOrder specifies how to order. Exactly one of
                    the fields must be set.
                  properties:
                    cluster:
                      description: controlPlane specifies how to order by controlplane.
                      type: string
                    creationTimestamp:
                      description: creationTimestamp specifies how to order by creation
                        timestamp.
                      enum:
                      - Asc
                      - Desc
                      type: string
                    group:
                      description: group specifies how to order by group.
                      enum:
                      - Asc
                      - Desc
                      type: string
                    kind:
                      description: kind specifies how to order by kind.
                      enum:
                      - Asc
                      - Desc
                      type: string
                    name:
                      description: name specifies how to order by name.
                      enum:
                      - Asc
                      - Desc
                      type: string
                    namespace:
                      description: namespace specifies how to order by namespace.
                      enum:
                      - Asc
                      - Desc
                      type: string
                  required:
                  - cluster
                  type: object
                type: array
              page:
                description: Page specifies how to page the returned objects.
                properties:
                  cursor:
                    description: |-
                      cursor is the cursor of the first object to return. This value is opaque,
                      the format cannot be relied on. It is returned by the server in the
                      response to a previous query. If neither first nor cursor is specified,
                      objects are returned from the beginning.


                      Note that cursor values are not stable under different orderings.
                    type: string
                  first:
                    description: |-
                      first is the number of the first object to return relative to the cursor.
                      If neither first nor cursor is specified, objects are returned from the
                      beginning.
                    type: integer
                type: object
            type: object
        type: object
    served: true
    storage: true
